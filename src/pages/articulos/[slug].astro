---
import { getEntryBySlug } from 'astro:content';
import ArticleLayout from '../../layouts/ArticleLayout.astro';


export async function getStaticPaths() {
  // Ajusta el nombre de la colección si es necesario
  const modules = await Astro.glob('../../content/articulos/*.md');
  return modules.map((mod) => ({ params: { slug: mod.file.split('/').pop().replace('.md', '') } }));
}

const { slug } = Astro.params;
const entry = await getEntryBySlug('articles', slug);
if (!entry) throw new Error('Artículo no encontrado');

<ArticleLayout title={entry.data.title} description={entry.data.description} image={entry.data.image}>
  <entry.render />
</ArticleLayout>
