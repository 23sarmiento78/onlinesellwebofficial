---
import BaseLayout from '../layouts/BaseLayout.astro';
---


---
import BaseLayout from '../layouts/BaseLayout.astro';
import getArticles from '../utils/getArticles.js';
const articles = await getArticles();
---

<BaseLayout title="Foro y Artículos" description="Foro de novedades, artículos y recursos de hgaruna.">
  <main class="container" style="max-width:900px; margin:0 auto; padding:2rem 0;">
    <h1 style="font-size:2.2rem; font-weight:700; margin-bottom:1.5rem; color:var(--primary-color, #222);">Foro y Novedades</h1>
    <p style="font-size:1.18rem; color:#0077b5; margin-bottom:2.5rem; font-weight:600; background:#e8f4fd; border-radius:0.7rem; padding:1.1rem 1.5rem; text-align:center;">
      ¿Buscas potenciar tu presencia digital? Lee nuestros artículos, comparte en LinkedIn y <a href="/contacto" style="color:#0077b5; text-decoration:underline; font-weight:700;">contáctanos</a> para llevar tu negocio al siguiente nivel.<br>
      <span style="color:#222; font-size:1.05rem; font-weight:400;">¡No solo te informes, haz crecer tu proyecto con hgaruna!</span>
    </p>
    <div class="articles-list">
      {articles.length === 0 && <p>No hay artículos publicados aún.</p>}
      {articles.map(article => (
        <article class="article-card" style="background:#fff; border-radius:1rem; box-shadow:0 2px 16px rgba(0,0,0,0.06); margin-bottom:2rem; padding:2rem; display:flex; flex-direction:column; gap:1rem;">
          <div style="display:flex; align-items:center; gap:1rem;">
            {article.image && <img src={article.image} alt={article.title} style="width:90px; height:90px; object-fit:cover; border-radius:0.7rem;" />}
            <div>
              <h2 style="font-size:1.5rem; margin:0 0 0.3rem 0; color:var(--primary-color, #222);">{article.title}</h2>
              <div style="color:#888; font-size:0.98rem;">
                {article.date && <span><i class="far fa-calendar-alt"></i> {article.date}</span>}
                {article.author && <span style="margin-left:1.2rem;"><i class="fas fa-user"></i> {article.author}</span>}
              </div>
              <div style="margin-top:0.5rem;">
                {article.tags && article.tags.map(tag => (
                  <span style="background:#e8f4fd; color:#0077b5; border-radius:0.5rem; padding:0.2rem 0.7rem; font-size:0.95rem; margin-right:0.5rem; font-weight:600;">#{tag}</span>
                ))}
              </div>
            </div>
          </div>
          <p style="font-size:1.08rem; color:#333; margin:0.7rem 0 0.5rem 0;">{article.summary}</p>
          <div style="display:flex; gap:1rem; align-items:center;">
            <a href={`/articulos/${article.slug}`} class="btn btn-primary" style="background:#0077b5; color:#fff; border:none; border-radius:0.5rem; padding:0.5rem 1.2rem; font-weight:600;">Leer artículo completo</a>
            <a href={`https://www.linkedin.com/sharing/share-offsite/?url=https://service.hgaruna.org/articulos/${article.slug}`} target="_blank" rel="noopener" class="btn btn-linkedin" style="background:#e8f4fd; color:#0077b5; border:none; border-radius:0.5rem; padding:0.5rem 1.2rem; font-weight:600; display:flex; align-items:center; gap:0.5rem;">
              <i class="fab fa-linkedin"></i> Compartir en LinkedIn
            </a>
            <span style="color:#0077b5; font-weight:700; font-size:1.1rem;">¡Comparte tu opinión en LinkedIn!</span>
          </div>
        </article>
      ))}
    </div>
  </main>
</BaseLayout>
  <style>
    .foro-feed-container { max-width: 700px; margin: 0 auto; padding: 2rem 1rem; }
    .foro-feed-title { text-align: center; margin-bottom: 2rem; }
    .feed-list {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 8px;
    }
    .feed-card { background: var(--color-bg, #fff); border-radius: 1rem; box-shadow: 0 2px 12px rgba(0,0,0,0.07); padding: 1.5rem; position: relative; }
    .feed-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 0.3rem; }
    .feed-meta { color: #64748b; font-size: 0.95rem; margin-bottom: 0.7rem; }
    .feed-summary { color: #334155; font-size: 1.05rem; margin-bottom: 1rem; }
    .leer-mas-btn { background: #2563eb; color: #fff; border: none; border-radius: 0.5rem; padding: 0.5rem 1.2rem; cursor: pointer; font-weight: 600; transition: background 0.2s; }
    .leer-mas-btn:hover { background: #1e40af; }
    .modal-articulo { position: fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:9999; }
    .modal-content { background:#fff; border-radius:1rem; max-width:600px; width:90vw; max-height:90vh; padding:2rem 1.5rem 1.5rem 1.5rem; overflow-y:auto; position:relative; }
    .close-modal { position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:2rem; color:#64748b; cursor:pointer; }
    .close-modal:hover { color:#e11d48; }
    @media (max-width:600px) { .modal-content { padding:1rem; } }
    body.dark-theme .feed-card, body.dark-theme .modal-content { background: #1e293b; color: #f1f5f9; }
    body.dark-theme .feed-summary { color: #cbd5e1; }
  </style>
</BaseLayout>
  </script>
</BaseLayout>